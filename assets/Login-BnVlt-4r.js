import{d as R,u as U,r as C,a as p,c,b as d,e,w as o,f as t,g as q,h as z,i as B,o as m,t as E,E as L}from"./index-XMpUS58h.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"login"},N={class:"login-input"},F={key:0},I={key:1},S=R({__name:"Login",setup(j){const w=B(),v=U(),l=C({username:"admin",password:"admin123",code:"250620"}),b={username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}],code:[{required:!0,trigger:"blur",message:"请输入验证码"}]},a=p(!1);p("");const _=p(),f=()=>{_.value.validate(async g=>{g&&(a.value=!0,v.login({...E(l)}).then(()=>{w.push({path:"/"})}).catch(s=>{a.value=!1,L.error(s)}))})};return(g,s)=>{const h=t("user"),u=t("el-icon"),i=t("el-input"),r=t("el-form-item"),y=t("lock"),V=t("message"),k=t("el-button"),x=t("el-form");return m(),c("div",M,[d("div",N,[e(x,{ref_key:"loginRef",ref:_,model:l,rules:b,class:"login-form","label-position":"top"},{default:o(()=>[s[4]||(s[4]=d("div",{class:"login-title"},[d("p",null,"项目实践")],-1)),e(r,{label:"账号",prop:"username",size:"large"},{default:o(()=>[e(i,{modelValue:l.username,"onUpdate:modelValue":s[0]||(s[0]=n=>l.username=n),type:"text","auto-complete":"off",placeholder:"请输入账号"},{prepend:o(()=>[e(u,null,{default:o(()=>[e(h)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"密码",prop:"password",size:"large"},{default:o(()=>[e(i,{modelValue:l.password,"onUpdate:modelValue":s[1]||(s[1]=n=>l.password=n),"show-password":"",type:"password","auto-complete":"off",placeholder:"请输入密码"},{prepend:o(()=>[e(u,null,{default:o(()=>[e(y)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"验证码",prop:"code",size:"large",class:"login-code-wrap"},{default:o(()=>[e(i,{modelValue:l.code,"onUpdate:modelValue":s[2]||(s[2]=n=>l.code=n),"auto-complete":"off",placeholder:"请输入验证码",style:{width:"60%"},onKeyup:q(f,["enter"])},{prepend:o(()=>[e(u,null,{default:o(()=>[e(V)]),_:1})]),append:o(()=>s[3]||(s[3]=[d("div",{class:"login-code"},"验证码",-1)])),_:1},8,["modelValue"])]),_:1}),e(r,{style:{width:"100%"}},{default:o(()=>[e(k,{loading:a.value,style:{width:"100%"},class:"login-button",onClick:z(f,["prevent"])},{default:o(()=>[a.value?(m(),c("span",I,"登 录 中...")):(m(),c("span",F,"登 录"))]),_:1},8,["loading"])]),_:1})]),_:1,__:[4]},8,["model"])])])}}}),G=K(S,[["__scopeId","data-v-3c068f6f"]]);export{G as default};
